{% extends "base.html" %}
{% block content %}

<div style="
    max-width:520px;
    margin:120px auto 80px auto;
    padding:30px;
    background:white;
    border-radius:12px;
    box-shadow:0 8px 25px rgba(0,0,0,0.08);
">

    <h1 style="text-align:center; margin-bottom:25px;">
        Complete your booking
    </h1>

    <form method="POST" action="/create-payment">

        <!-- Datos ocultos del tour -->
        <input type="hidden" name="tour_id" value="{{ tour_id }}">
        <input type="hidden" name="date" value="{{ date }}">
        <input type="hidden" name="people" value="{{ people }}">

        <!-- Nombre -->
        <label>Name</label>
        <input
            type="text"
            name="name"
            required
            style="width:100%; padding:10px; margin-bottom:12px;"
        >

        <!-- Teléfono -->
        <label>Phone</label>
        <input
            type="text"
            name="phone"
            required
            style="width:100%; padding:10px; margin-bottom:12px;"
        >

        <!-- Email -->
        <label>Email</label>
        <input
            type="email"
            name="email"
            required
            style="width:100%; padding:10px; margin-bottom:12px;"
        >

        <!-- Checkbox pickup -->
        <label style="display:block; margin:15px 0;">
            <input type="checkbox" id="pickup-check" name="pickup" value="yes">
            Airport / outside city pickup (+$49.99)
        </label>

        <!-- Campo dinámico de ubicación -->
        <div id="pickup-location" style="display:none; margin-bottom:15px;">
            <label>Pickup location</label>
            <input
                type="text"
                name="pickup_location"
                placeholder="Hotel, airport, or address"
                style="width:100%; padding:10px;"
            >
        </div>

        <!-- Botón -->
        <button type="submit" class="tour-btn" style="width:100%;">
            Proceed to payment
        </button>

    </form>
</div>


<!-- Script mostrar/ocultar pickup -->
<script>
const pickupCheck = document.getElementById("pickup-check");
const pickupLocation = document.getElementById("pickup-location");

pickupCheck.addEventListener("change", () => {
    pickupLocation.style.display = pickupCheck.checked ? "block" : "none";
});
</script>

{% endblock %}